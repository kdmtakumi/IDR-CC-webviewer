<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>{% block title %}Human IDR+CC Database{% endblock %}</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}" />
  </head>
  <body>
    <header>
      <div class="logo">IDR+CC Browser</div>
      <nav>
        <a href="{{ url_for('index') }}">Home</a>
        <a href="{{ url_for('canonical_index') }}">Canonical</a>
        <a href="{{ url_for('reviewed_index') }}">Reviewed</a>
        <a href="{{ url_for('supramolecular') }}">Supramolecular</a>
        <a href="{{ url_for('supramolecular_reviewed') }}">Supramolecular (Reviewed)</a>
        <a href="{{ url_for('idr_index') }}">IDR DB</a>
        <a href="{{ url_for('prediction') }}">Prediction</a>
      </nav>
    </header>

    <main>
      {% block content %}{% endblock %}
    </main>

    <footer>
      <p>IDR+CC Browser Â· Supabase-backed dataset viewer</p>
    </footer>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script>
      document.querySelectorAll('.location-class-tabs').forEach((tabs) => {
        const input = tabs.parentElement.querySelector('.location-class-input');
        if (!input) return;
        const items = tabs.querySelectorAll('.location-class-tab');
        items.forEach((item) => {
          const button = item.querySelector('.location-class-tab-button');
          if (!button) return;
          button.addEventListener('click', () => {
            items.forEach((el) => el.classList.remove('active'));
            item.classList.add('active');
            input.value = item.dataset.value || '';
          });
        });
      });
      document.querySelectorAll('.location-class-row').forEach((row) => {
        const toggle = row.querySelector('.location-class-toggle');
        const tabs = row.querySelector('.location-class-tabs');
        if (!toggle || !tabs) return;
        toggle.addEventListener('click', () => {
          tabs.classList.toggle('is-collapsed');
          toggle.setAttribute('aria-expanded', String(!tabs.classList.contains('is-collapsed')));
        });
      });
    </script>
    {% block scripts %}{% endblock %}
  </body>
</html>
